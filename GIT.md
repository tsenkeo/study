# Базовые команды

[Видеоурок](https://gbcdn.mrgcdn.ru/uploads/record/53872/attachment/9322568415e87a6e4f19840c7b0c7eb8.mp4)

Создать папку:

	mkdir [dirname]

Создать файл:

	touch [filename.txt]

Показать содержимое каталога:

	ls

Расширенный режим, показывает пустые папки и системные файлы:

	ls -a 

Копировать содержимое одного файла в другой:

	cp [flenme.txt] [filename.txt]

Переименовать файл:

	mv [old name] [new name]

Запись в файл:

	echo 'Что записывать' > filename.txt
	
*Эта команда удалит содержимое и запишет новое. Если хотите дозаписать в файл, то используйте две >>. Команда дозапишет нужное в конец файла с новой строки.*
	
Вывести содежримое файла:

	cat filename.txt

Удалить файл или пустую папку:

	rm [file or directory]

Удалить папку с содержимым:

	rm -R [name directory] 

	
**Так как git игонрирует пустые папки, для них нужен специальный файл:**

	mkdir [name directory]/.gitkeep 
	
**Файл, который хранит имена файлов и папок для игнорирования** 

	touch .gitignore 
	
*В него следует записывать имена файлов и папок, которые изменяются при тестированни, например, базы данных или кэш*
	
	echo '[filename]' > .gitignore 

**Добавление файлов в индекс** 

	git add . 
	
*Или вместо точки название файла, так добавит все файлы и папки*

Еще пример использования:

	git add ./..  

Можно добавить конкретную папку в индекс

**Текушее состояние репозитория, незаписанные коммиты и т.д.**

	git status

В компактном виде:

	git status -s

**Просмотреть измененные файлы, но не добавленные еще в индекс** 

	git diff

# История изменений Git 

[Видеоурок](https://gbcdn.mrgcdn.ru/uploads/record/53880/attachment/a02714fbfb68636543b39211cbb99b0f.mp4)

История коммитов:

	git log

*Чтобы выйти из просмотра коммитов нажмите клавишу Q (на Windows, для Linux - Z. Если не выходит - допонительно CTRL или ENTER)*
	
История коммитов в компактном виде:

	git log --oneline
	
Просмотр изменений на всех ветках:

	git log --all

**История всех операций:**
	
	git reflog

# Rollback (сброс состояния)

Сброс коммита:
	
	git reset [hash commit]

Не откатывает, а отменяет действие одного из предыдущих коммитов, записывая это в новый коммит:	

	git revert [hash commit] 

Cброс состояния файла на указанное:

	git restore 

usage: git restore [<options>] [--source=<branch>] <file>...
	
Cброс состояния репозитория до последнего коммита:
	
	git reset --hard


# Синхронизация локального репозитория с Github 

[Видеоурок](https://gbcdn.mrgcdn.ru/uploads/record/53873/attachment/0f5391d7a94d2e70723659a6d8e8a646.mp4)

Синхронизация:	

	git pull

Обновление:
	
	git remote -v update

Добавение удаленого репозитория к локальному:
	
	git remote add origin [link github] 


# Работа с ветками репозиториев
	
[Видеоурок](https://gbcdn.mrgcdn.ru/uploads/record/53877/attachment/0b9da951e89f5602b8bebea04a212d7c.mp4)
	
Склонировать репозиторий и переключиться на определенную ветку:
	
	git clone [path to repo] -b [branchname] 

Склонировать только нужную ветку:

	git clone –-single-branch –b [branch] [path to repo]

Проверка ветки, на которой находишься:

	git branch

Создать ветку:

	git brach [name branch]
	
Переключиться на заданную ветку:

	git checkout [name branch]

Коммиты веток не пересекаются, но можно взять за основу какую-либо ветку и создать ее копию:
	
	git branch [name branch] [name brach, for example, main]
	
тогда HEAD -> будет смотреть сразу в две ветки

Переключит на заданную ветку, а если таковой нет, то создаст ее:
	
	git checkout -b [name branch]
	
git push -u [name ne branch] - загрузка ветки на github в коммите 
git fetch - подгружает с репозитория новые ветки 

# Слияние веток

[Видеоурок](https://gbcdn.mrgcdn.ru/uploads/record/53878/attachment/1e5e598b3858ed2133b7c070241fc6cb.mp4)
	
Переключаемся на нужную ветку, куда необходимо внести изменения из других веток, а затем: 

	git merge [название ветки, из которой нужно внести изменения]

а после этого выполняем привычные действия при коммите, заканчивающиеся git push 

Удаление ветки из репозитория: 
	
	git push --delete origin [name branch]



# Версионирование 
	
[Видеоурок](https://gbcdn.mrgcdn.ru/uploads/record/53882/attachment/d3d35d4a1e59a31666293b62815fa80f.mp4)
	
	git tag [name version, for example, 1.0]
	
	git tag 

Список версий:
	
	git tag --list 
	
	git push --tags

Удаление тега:
	
	git tag -d [nametag]

Удаление тега из репозитория:
	
	git push --delete origin [tag]


# Сложные операции
	
[Видеоурок](https://gbcdn.mrgcdn.ru/uploads/record/53881/attachment/d210bef9e8826284265ede162c4f6dfb.mp4)	

Cоздает временное хранилище изменений, для того чтобы переключаться между ветками и не терять их:	

	git stash

Показать список временных хранилищ:
	
	git stash list

Добавить определенный файл в стэш на текущей ветке:
	
	git stash push [filename]

Развернуть обратно изменения, которые были записаны в stash:

	git stash pop [название стэша, например, stash@{1}] 

Cклеить коммиты:
	
	git --squash
	
Склеивание коммитов может понадобиться, например, для сжатия. Склеить коммиты можно коммандой:
	
	git rebase -i HEAD~3

Цифра три означает, что склеивать будем три последних коммита.

Далее откроется текстовый редактор с выделенными коммитами (pick)

![pick](https://miro.medium.com/max/570/1*WqKTByMzGPlHkQ6QkHvpjA.png)

Необходимо изменить pick на squash только на последующих коммитах (первый оставить на pick)

![squash](https://miro.medium.com/max/537/1*g9UxR-6wbqEiO1cvQB0TtQ.png)	

Далее откроется еще раз редактор для изменения сообщений,если не хотите менять сообщения, то его нужно просто закрыть и дождаться исполнения команд.
	
Склеивание коммитов ветки перед переносом на другую, будет проще откатиться в случае чего:
	
	git merge [название ветки, из которой нужно внести изменения] --squash  


Подробнее об операции склеивания коммита на 14:40 в видеоуроке.

Перенос коммита с одной ветки на другую:
	
	git cherry-pick [hash commit] 
	
Перенести последний коммит с указанной ветки на ту, где вы находитесь:
	
	git cherry-pick [branch]

Перенести все коммиты с ветки:
	
	git cherry-pick ..[branch] 
